<!doctype html>
<html>
  <head>
    <title>Luxo Demo</title>
    <link rel="stylesheet" type="text/css" href="https://cs.wellesley.edu/~cs307/307.css">
    <style>
      /* feel free to style the canvas any way you want. If you want it to
      use the entire window, set width: 100% and height: 100%. */
      canvas {
          display: block;
          margin: 10px auto;
          width: 80%;
          height: 500px;
      }
    </style>
    <script src="https://cs.wellesley.edu/~cs307/threejs/libs/three.min.js"></script>
    <script src="https://cs.wellesley.edu/~cs307/threejs/libs/OrbitControls.js"></script>
    <script src="https://cs.wellesley.edu/~cs307/threejs/libs/tw.js"></script>
  </head>
<body>

<h1>Simple Luxo Lamp</h1>

<script>
// We always need a scene

var scene = new THREE.Scene();

// ====================================================================

colorMaterials = [new THREE.MeshBasicMaterial({color: new THREE.Color("black"),
                                               side: THREE.DoubleSide}), 
                  new THREE.MeshBasicMaterial({color: new THREE.Color("white")}),
                  new THREE.MeshBasicMaterial({color: new THREE.Color("brown")})];

// brown base
var baseGeom = new THREE.CylinderGeometry(40,40,8,16);
var baseMesh = new THREE.Mesh(baseGeom, colorMaterials[2]);
baseMesh.position.set(0,4,0);
scene.add(baseMesh);

// lower arm
var armGeom1 = new THREE.CylinderGeometry(4,4,100);
var armMesh1 = new THREE.Mesh(armGeom1, colorMaterials[0]);
armMesh1.position.set(-35,40,0);
armMesh1.rotation.set(0,0,Math.PI/4);
scene.add(armMesh1);

// upper arm
var armGeom2 = new THREE.CylinderGeometry(4,4,100);
var armMesh2 = new THREE.Mesh(armGeom2, colorMaterials[0]);
armMesh2.position.set(-35,110,0);
armMesh2.rotation.set(0,0,-Math.PI/4);
scene.add(armMesh2);

// black cone
var coneGeom = new THREE.ConeGeometry(40,80,16,1,true);
var coneMesh = new THREE.Mesh(coneGeom, colorMaterials[0]);
coneMesh.position.set(20,140,0);
coneMesh.rotation.set(0,0,Math.PI/4);
scene.add(coneMesh);

// lightbulb
var bulbGeom = new THREE.SphereGeometry(15);
var bulbMesh = new THREE.Mesh(bulbGeom, colorMaterials[1]);
bulbMesh.position.set(20,140,0);
scene.add(bulbMesh);

// ====================================================================

var renderer = new THREE.WebGLRenderer();

TW.mainInit(renderer,scene);

TW.cameraSetup(renderer,
               scene,
               {minx: -50, maxx: 80,
                miny: 0, maxy: 180,
                minz: -30, maxz: 30});
</script>

</body>
</html>
